package xyz.vsngamer.elevator.init;

import net.minecraft.entity.Entity;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.math.BlockPos;
import net.minecraft.util.math.Vec3i;
import net.minecraft.util.text.TextComponentString;
import net.minecraftforge.event.entity.living.LivingEvent.LivingJumpEvent;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

public class ModEvents {

	@SubscribeEvent
	public void onJump(LivingJumpEvent event) {
		Entity entity = event.getEntity();
		BlockPos pos1 = new BlockPos(entity.posX, entity.posY, entity.posZ);

		if (entity instanceof EntityPlayer
				&& entity.getEntityWorld().getBlockState(pos1.down()).getBlock().equals(ModBlocks.elevator)) {

			entity.addChatMessage(new TextComponentString("elevator"));
			while (pos1.getY() < 255) {
				if(entity.getEntityWorld().getBlockState(pos1).getBlock().equals(ModBlocks.elevator)){
					entity.setPositionAndUpdate(pos1.getX(),pos1.getY()+1, pos1.getZ());
				}
				pos1 = pos1.add(0, 1, 0);
			}
		}
	}
}
